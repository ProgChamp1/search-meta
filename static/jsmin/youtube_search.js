document.getElementById("search").onkeyup=(({keyCode:e})=>{13==e&&search()});const b=document.getElementById("s-button");b.onmouseover=(()=>{b.style.boxShadow="3px 3px #d9dce0"}),b.onmouseout=(()=>{b.style.boxShadow="0px 0px #d9dce0"}),b.ontouchstart=(()=>{b.style.boxShadow="3px 3px #d9dce0"}),b.ontouchend=(()=>{b.style.boxShadow="0px 0px #d9dce0"});const custom_dl=document.getElementById("ytdl");function change_href(e,t){for(let n=0;n<e.length;n++)el=e[n],el.href=t?`//dl-js.herokuapp.com/video?url=${encodeURIComponent(el.getAttribute("data-url"))}`:el.getAttribute("data-url")}function decodehtml(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}function search(){const e=`/youtube/search?q=${document.getElementById("search").value}`;window.location=e}function search_init(e){const t=new Request(`/youtube/get?q=${encodeURIComponent(e)}`);fetch(t).then(e=>e.text()).then(e=>{gen_results(e)}).then(e=>{console.log(e)}).catch(e=>{const t=document.createElement("div");t.style.color="red",t.innerText=e,document.getElementById("youtubeprev").appendChild(t)})}function gen_results(e){document.getElementById("skelly").style.display="none",document.getElementById("content").style.display="block";e=JSON.parse(e);for(let t=0;t<e.data.length;t++){const n=document.createElement("a"),o=document.createElement("img");o.setAttribute("class","rounded-image"),o.src=e.data[t].thumb;const d=e.data[t].title,a=e.data[t].url,c=e.data[t].channel,l=e.data[t].channel_url;o.setAttribute("data-motion",e.data[t].preview),o.setAttribute("data-img",e.data[t].thumb),o.setAttribute("alt","No Preview available or your browser does not support webp images"),o.style.display="inline-block",n.href=a,n.setAttribute("data-url",a),n.className="youtube-links",n.appendChild(o),n.appendChild(document.createElement("br"));const u=document.createElement("b");u.innerHTML=d,n.appendChild(u);const r=document.createElement("a");r.href=l,r.innerHTML=`video By:${c}`,o.onmouseover=function(){this.src=this.getAttribute("data-motion")},o.onmouseout=function(){this.src=this.getAttribute("data-img")},o.ontouchstart=function(){this.src=this.getAttribute("data-motion")},o.ontouchend=function(){this.src=this.getAttribute("data-img")};const s=document.createElement("div");s.appendChild(r);const i=document.createElement("div"),m=document.createElement("div"),h=document.createElement("div");i.innerHTML=`Published:${e.data[t].publish_time}`,m.innerHTML=`Video Length:${e.data[t].video_length}`,h.innerHTML=`Views:${e.data[t].view_count}`,s.appendChild(i),s.appendChild(m),s.appendChild(h),s.appendChild(document.createElement("br")),s.appendChild(document.createElement("br")),document.getElementById("content").appendChild(n),document.getElementById("content").appendChild(s)}return"Created Results"}custom_dl.onclick=(()=>{el_array=document.getElementsByClassName("youtube-links"),window.use_custom_dl?(custom_dl.innerHTML="Currently Using Default Youtube",window.use_custom_dl=!1,change_href(el_array,!1)):(window.use_custom_dl=!0,change_href(el_array,!0),custom_dl.innerHTML="Currently Using Custom Downloader")});