!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n=n||self).uiLib={})}(this,function(n){var e={},t=[],r=/^aria[\-A-Z]/,o=/^xlink:?/,i={};function a(n,e){return function n(e,t,r){if(!e)return t;for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?n(i,t,r):t.push(r?r(i):i)}return t}(n,[],e)}var u=e.hasOwnProperty,c=e.constructor.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)u.call(t,r)&&(n[r]=t[r])}return n},s=function(n,e){var t,r={};for(t in n)-1===e.indexOf(t)&&(r[t]=n[t]);return r},l=function(){},f=["key","ref"];function p(n,r){if(null==n||"boolean"==typeof n)return null;var o;null==r&&(r=e);var i,u=r.ref,c=r.key;return null!=(r=s(r,f)).children?i=a([r.children]):(o=t.slice.call(arguments,2)).length&&(i=a(o)),r.children=i,h(n,r,c,u)}function d(n){return null==n||"boolean"==typeof n?p(i):"string"==typeof n||"number"==typeof n?h(null,String(n)):Array.isArray(n)?p(l,null,n):null!=n._dom?h(n.type,n.props,n.key):n}function h(n,e,t,r){return{type:n,props:e,key:t,ref:r,_dom:null,_children:null,_component:null,_renders:null,_renderedBy:null,_parentDom:null,_depth:0,constructor:void 0}}var v="undefined"!=typeof Promise,m=v?Promise.prototype.then.bind(Promise.resolve()):function(n){return setTimeout(n)},_="function"==typeof requestAnimationFrame,y={hookSetup:l,diffed:l};function g(n,e){var t=y[n];t===l&&(t=null),y[n]=function(){t&&t.apply(0,arguments),e.apply(0,arguments)}}var b={scheduleRender:_?function(n){return requestAnimationFrame(n)}:m,eagerlyHydrate:!0,RAF_TIMEOUT:100,debounceEffect:null},S={value:1,checked:1},k={key:1,ref:1,children:1};function x(n,e,t){t=t||"";var r=n.style;if("string"!=typeof(e=e||"")){var o="string"==typeof t;if(o)r.cssText="";else for(var i in t)null==e[i]&&(r[i]="");for(var a in e){var u=e[a];(o||u!==t[a])&&(r[a]=u)}}else r.cssText=e}var w=function(n){return n.trim()};function C(n,e,t,r){var o=Array.isArray;o(e)&&(e=w(e.join(" "))),o(t)&&(t=w(t.join(" "))),e!==t&&r.batch.push({node:n,action:1,attr:r.isSvg?"class":"className",value:e})}function P(n,e,t,o){if("o"===e[0]&&"n"===e[1])return function(n,e,t){e=e.substr(2).toLowerCase(),null==t?(n.removeEventListener(e,U),delete n._events[e]):(n.addEventListener(e,U),n._events[e]=t)}(n,e,t);var i=null==t||!1===t&&!r.test(e);return!o&&e in n?n[e]=i?"":t:i?n.removeAttribute(e):n.setAttribute(e,t)}function U(n){return this._events[n.type].call(this,n)}function D(n){if(null!=n){var e=n.parentNode;e&&e.removeChild(n)}}function E(n,e){!function(n){R(A,n)}(e),function(n){null!=n&&R(N,n)}(n)}var A={_VNode:1,_events:1},N={_children:1,_component:1,_depth:1,_dom:1,_renderedBy:1,_renders:1,_parentDom:1,key:1,ref:1};function R(n,e){if(null!=e)for(var t in n)e[t]=null}var V=[],L=[];function O(n){for(var e;e=n.pop();)F(e)}function T(n){var e=n.name;return"componentDidMount"===e?V.push(n):"componentDidUpdate"===e?L.push(n):void F(n)}function F(n){var e=n.name,t=n.bind,r=t[e];if(t._lastLifeCycleMethod=e,r){var o=n.args,i="function"==typeof t.componentDidCatch,a=function(){return r.apply(t,o)};if(v)m(a).catch(function(n){if(!i)throw n;t.componentDidCatch(n)});else try{a()}catch(n){if(i)return t.componentDidCatch(n);throw n}}}function M(n){!function(n){for(var e=n.length,t=0;t<e;t++){var r=n[t],i=r.node,a=r.refDom,u=r.value,c=r.VNode,s=r.attr;switch(r.action){case 4:u.insertBefore(i,a);break;case 1:P(i,s,u);break;case 3:x(i,u.newValue,u.oldValue);break;case 2:D(i),E(c,i);break;case 7:E(c,i);break;case 6:i.removeAttributeNS("http://www.w3.org/1999/xlink",s);break;case 5:s!==(s=s.replace(o,""))?i.setAttributeNS("http://www.w3.org/1999/xlink",s.toLowerCase(),u):P(i,s,u,!0)}}}(n),y.diffed(),O(V),O(L)}var j=[],q=function(){function n(n){this.state={},this.props=n}var e=n.prototype;return e.render=function(n,e){return null},e.setState=function(n){if(this._oldState=c({},this.state),this._nextState=c({},this._nextState||this.state),"function"==typeof n){var e=n(this._nextState,this.props);if(null==e)return;c(this._nextState,e)}else c(this._nextState,n);var t;(t=this)._dirty=!0,1===j.push(t)&&b.scheduleRender(H)},e.forceUpdate=function(n){if(null!=this._VNode){var e=[],t=!1!==n;z(this._VNode,c({},this._VNode),this._VNode._parentDom,t,{depth:this._depth,batch:e,isSvg:!1}),"function"==typeof n&&n(),M(e)}},n}();function H(){var n;for(j.sort(function(n,e){return n._depth-e._depth});n=j.pop();)n._dirty&&(n._dirty=!1,n.forceUpdate(!1))}function I(n,e){n&&("function"==typeof n?n(e):n.current=e)}function W(n,t,r){var o=n.ref,i=(t||e).ref;o&&o!==i&&(I(o,r),i&&I(t.ref,null))}var B=function(n){return"function"==typeof n&&n!==l};function K(n){return this.constructor(n)}function $(n,r,o,a){if(n.type!==i){var u=n._children||t,s=(r||e)._children||t;if(u!==s)return function(n,t,r,o,a){for(var u=n.type===l,s=t.length,f=r.length,d=Math.max(s,f),h=u?a.next||(G(r[f-1])||e).nextSibling:null,v=0;v<d;v++){var m=t[v]||(v<s?p(i):null),_=r[v]||e,y=(G(_)||e).nextSibling||h;z(m,_,o,!1,c({},a,{next:y}))}}(n,u,s,o,a)}}function G(n){if(n&&n!==e){for(;B(n.type);)n=n._renders;if(n.type===l){var r=n._children||t;return G(r[r.length-1])}return n._dom}}function Z(n,t,r){if(null!=n&&n!==e){r=r||0,I(n.ref,null),Z(n._renders,t,r);var o=n._component;null!=o&&(o.setState=l,o.forceUpdate=l,o._VNode=null,T({name:"componentWillUnmount",bind:o}));var i=n._children;if(function(n,e,t){if(function(n){return"function"!=typeof n.type}(n)){var r=n._dom;null!=r&&(function(n,e,t){var r=n.props;for(var o in r)"o"===o[0]&&"n"===o[1]&&t.batch.push({action:1,node:e,attr:o})}(n,r,e),e.batch.push({node:r,action:t?7:2,VNode:n}))}}(n,t,r),i){for(var a=i.length,u=0;u<a;u++)Z(i[u],t,r+1);i.length=0}}}function z(n,t,r,u,s){if(null!=n&&"boolean"!=typeof n){if(!((f=n)&&void 0===f.constructor||(console.warn("component not of expected type =>",f),0)))return null;var f;if(t===n)return n._dom;var p=(t=t||e).type,h=n.type,v=B(h);if(h===p&&v&&(n._component=t._component),n._parentDom=r,h!==p){if(!s.next){var m=G(t);s.next=(m||e).nextSibling}Z(t,s),t=e}var _,g=n;if("string"!=typeof n.props&&h!==i&&(n=function(n,t,r,o){var i,a;return null!=n&&B(i=n.type)?(t=t||e,a=function(n){var e=n.prototype;return!(!e||!e.render)}(i)?function(n,t,r,o){var i,a=n.type,u=n._component,s=null!=u;if(s){if(i="componentDidUpdate",null!=u.shouldComponentUpdate&&!r&&!1===u.shouldComponentUpdate(n.props,u._nextState||u.state))return e}else i="componentDidMount",u=new a(n.props),n._component=u,u._depth=++o.depth;u._VNode=n;var l=u._oldState,f=t.props;T({bind:u,name:s?"componentWillUpdate":"componentWillMount",args:s?[n.props,u._nextState]:null}),u.state=function(n,t,r){var o,i=c({},n.state||e,n._nextState||e),a=null!=(o=t.getDerivedStateFromProps)?c({},o(r.props,i)):null;return a&&c(i,a),i}(u,a,n),u._oldState=null,u._nextState=null,u.props=n.props;var p=d(u.render(u.props,u.state));return T({bind:u,name:i,args:"componentDidUpdate"===i?[f,l]:[]}),W(n,t,u),p}(n,t,r,o):function(n,e){var t,r,o=n.type;return n._component?r=n._component:(r=new q(n.props),n._component=r,r.render=K,r.constructor=o,r.props=n.props,r._depth=++e.depth),r._VNode=n,y.hookSetup(r),t=d(r.render(n.props)),y.hookSetup(null),t}(n,o),n._renders=a,a._renderedBy=n,a):n}(n,t,u,s),s.isSvg="svg"===n.type||s.isSvg),B(t.type)&&(t=t._renders),n!==g){if(n===e)return;return z(n,t,r,u,s)}return n._children=function(n){var e=n.props.children;if(n.type!==l){if(null==e)return[]}else e&&!e.length&&(e=null);return a([e],d)}(n),(p=t.type)!==(h=n.type)&&(t=null),h===l?$(n,t,r,s):(function(n,t,r,a){var u,c=(t=t||e)===e,s=t._dom;(u=n.type!==t.type||null==s?function(n,e){if("string"==typeof n.props)return document.createTextNode("");var t,r=n.type;return r===i?document.createComment("$"):((t=e.isSvg?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r))._events={},t)}(n,a):s)._VNode=n,n._dom=u,function(n,t,r,a){if(t.type!==i){if(r=r||e,"string"==typeof t.props)return function(n,e,t){return e===t||(n.nodeValue=e)}(n,t.props,r.props);var u=r.props,c=t.props;null!=u&&function(n,e,t,r){for(var i in e)if(!k[i]&&null==t[i]&&null!=e[i]){var a=i===(i=i.replace(o,""))?1:6;r.batch.push({node:n,action:a,attr:i})}}(n,u,c,a),function(n,e,t,r){for(var o in t)if(!(o in k)){var i=t[o],a=S[o]?n[o]:e[o];i!==a&&("className"!==(o="class"===o?"className":o)?r.batch.push("style"!==o?{node:n,action:r.isSvg?5:1,attr:o,value:i}:{node:n,action:3,value:{newValue:i,oldValue:a}}):C(n,i,a,r))}}(n,u||e,c,a)}}(u,n,c?null:t,a),c&&a.batch.push({node:u,action:4,refDom:a.next,value:r,VNode:n})}(n,t,r,s),_=n._dom,s.isSvg="foreignObject"!=h&&s.isSvg,$(n,t,_,s),W(n,t,_)),_}Z(t,s)}function J(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Q=["boolean","string","number"];function X(n,e){return null==n||Q.indexOf(typeof n)>-1||void 0===n.constructor?n:p(n,e)}var Y=function(n){function e(){return n.apply(this,arguments)||this}J(e,n);var t=e.prototype;return t.componentDidMount=function(){this._init()},t.componentDidUpdate=function(n){(n&&(n.promise||n.componentPromise))!==(this.props.promise||this.props.componentPromise)&&this._init()},t._init=function(){var n=this;this.setState({inProgress:!0}),(this.props.promise||this.props.componentPromise)().then(function(e){n.setState({render:e,inProgress:!1})}).catch(function(e){return n.setState({error:!0,inProgress:!1})})},t.render=function(n,e){return e.inProgress?X(n.fallback||n.fallbackComponent)||"Loading":e.error?X(n.errorComponent)||"An Error Occured":X(e.render,s(n,["fallback","fallbackComponent","promise","componentPromise"]))},e}(q),nn=/\/+$/;function en(n){return 1===n.length?n:n.replace(nn,"")}var tn=[],rn={subscribe:function(n){tn.includes(n)||tn.push(n)},unsubscribe:function(n){tn.splice(tn.indexOf(n),1)},emit:function(n,e){tn.forEach(function(t){return t(n,e)})},unsubscribeAll:function(){tn.length=0}};function on(n){window.history.pushState(null,"",n),rn.emit(n,{type:"load",native:!1})}var an=function(n){function e(e){var t;return(t=n.call(this,e)||this).state={},t._routeChangeHandler=t._routeChangeHandler.bind(function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)),t}J(e,n),e.__emitter=function(){rn.emit(e.path+e.qs,{type:"popstate",native:!0})},e._getParams=function(n,e){var t={};for(var r in n)t[n[r]]=decodeURIComponent(e[r]);return t},e.getCurrentParams=function(n){var t=(n=un(n)).params,r=n.regex.exec(e.path);return r?e._getParams(t,r):{}};var t,r=e.prototype;return r.componentDidMount=function(){rn.subscribe(this._routeChangeHandler),window.addEventListener("popstate",e.__emitter),this._routeChangeHandler(null)},r.componentWillUnmount=function(){window.removeEventListener("popstate",e.__emitter),rn.unsubscribe(this._routeChangeHandler)},r._notFoundComponent=function(){return p("div",null,'The Requested URL "'+e.path+'" was not found')},r._routeChangeHandler=function(n){var t=en(e.path),r=[];this.props.children.forEach(function(n){var o=un(n.props.match),i=o.regex.exec(t);if(i){var a=n.props,u=e._getParams(o.params,i);r.push(X(a.component,c({},n.props,{params:u})))}}),r.length||(r=p(this.props.fallbackComponent||this._notFoundComponent)),this.setState({child:r})},r.render=function(n,e){return p(l,null,e.child)},(t=[{key:"path",get:function(){return location.pathname}},{key:"qs",get:function(){return location.search}},{key:"searchParams",get:function(){return new URLSearchParams(e.qs)}}])&&function(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}(e,t),e}(q);function un(n){if(null!=n.regex)return n;n=en(n);var e,t={},r=0;return{regex:(e=n.split("/").map(function(n){return":"===n[0]?(t[++r]=n.substr(1),"([^?\\/]+)"):n}).join("/"),RegExp("^"+e+"(/?)$")),params:t}}function cn(n){if(!(n.altKey||n.ctrlKey||n.metaKey||n.shiftKey)){n.stopImmediatePropagation&&n.stopImmediatePropagation(),n.stopPropagation&&n.stopPropagation(),n.preventDefault();var e=new URL(this.href,location.href);on(e.pathname+e.search+e.hash)}}function sn(n,e){return!n||e.some(function(e,t){return e!==n[t]})}function ln(n,e,t){return n[e]||(n[e]=fn(0,t))}function fn(n,e){return"function"==typeof e?e(n):e}var pn=0,dn=null,hn=[];function vn(n){var e=n.cleanUp;"function"==typeof e&&(e(),n.cleanUp=null)}function mn(n){var e=n.cb;e&&"function"==typeof(e=e())&&(n.cleanUp=e),n.cb=null}function _n(){hn.forEach(function(n){for(var e in n)(t=n[e]).resolved||vn(t),mn(t);var t}),hn.length=0}var yn=b.debounceEffect||(_?function(n){var e,t,r=function(){cancelAnimationFrame(e),clearTimeout(t),n()};t=setTimeout(r,b.RAF_TIMEOUT),e=requestAnimationFrame(r)}:m);function gn(){return[dn,pn++]}function bn(n,e){var t=gn(),r=t[1],o=t[0]._hooksData,i=o[r]||{};return sn(i.args,e)?(o[r]=null,(i=ln(o,r,function(){return{hookState:n()}})).args=e,i.hookState):i.hookState}function Sn(){var n=this._pendingEffects;for(var t in n||e)vn(n[t]);this._pendingEffects=null}function kn(n,e,t){var r=gn(),o=r[0],i=ln(o._hooksData,r[1],function(){return{hookState:t?t(e):fn(void 0,e)}});return i.args=n,[i.hookState,function(n){var e=i.args(i.hookState,n);i.hookState=e,o.setState({})}]}g("hookSetup",function(n){dn=n,pn=0,n&&(n._hooksData||(n._hooksData=[]))}),g("diffed",function(){yn(_n)}),n.A=function(n){return null!=n.href&&(n.onClick=cn),p("a",n)},n.AsyncComponent=Y,n.Component=q,n.Fragment=l,n.Path={},n.Router=an,n.RouterSubscription=rn,n.config=b,n.createElement=p,n.createRef=function(){return{current:null}},n.createRoutePath=un,n.default=q,n.h=p,n.loadURL=on,n.redirect=function(n){window.history.replaceState(null,"",n),rn.emit(n,{type:"redirect",native:!1})},n.render=function(n,e){var t=p(l,void 0,[n]);e.hasChildNodes()&&function(n){for(var e;e=n.firstChild;)n.removeChild(e)}(e);var r=[];z(t,void 0,e,!1,{depth:0,batch:r,isSvg:void 0!==e.ownerSVGElement}),M(r)},n.useCallback=function(n,e){return bn(function(){return n},e)},n.useEffect=function(n,e){var t=gn(),r=t[0],o=t[1],i=r._hooksData,a=i[o]||{},u=r._pendingEffects=r._pendingEffects||{},c=u[o];if(sn(a.args,e)){i[o]=a,a.args=e;var s,l=c?mn(c)||c.cleanUp:null;u[o]={cb:n,cleanUp:l},-1===hn.indexOf(s=u)&&hn.push(s),r.componentWillUnmount=Sn}else c&&(c.resolved=!0)},n.useMemo=bn,n.useReducer=kn,n.useRef=function(n){return bn(function(){return{current:n}},[])},n.useState=function(n){return kn(fn,n)}});
